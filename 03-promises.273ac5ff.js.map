{"mappings":"qhBACA,IAAAA,EAAAC,EAAA,SAGoB,MAAdC,EAASC,SAASC,cAAc,SAChCC,EAAUH,EAAOE,cAAc,kBAC/BE,EAASJ,EAAOE,cAAc,iBAC9BG,EAAWL,EAAOE,cAAc,mBAyCxB,SAALI,EAAcC,EAAUC,GACf,IAAIC,SAAQ,CAACC,EAAKC,KAChCC,YAAW,KACT,MAAMC,EAAgBC,KAAKC,SAAW,GAEhCC,EAAe,CAAEC,SAAAV,EAAUW,MAAAV,GAE7BK,EACFH,EAAIM,GAEJL,EAAIK,EAAa,GAElBR,EAAM,IAIRW,MAAK,EAACF,SAAEA,EAAQC,MAAEA,MACjBE,EAAAtB,GAASuB,OAAOC,QAAQ,uBAAqBL,QAAiBC,MAAU,IAEzEK,OAAM,EAACN,SAAEA,EAAQC,MAAEA,MAClBE,EAAAtB,GAASuB,OAAOG,QAAQ,sBAAoBP,QAAeC,MAAU,G,CArDtBf,EAA7CsB,MAAQC,OAAOC,aAAaC,QALrB,kBAMfxB,EAAOqB,MAAQC,OAAOC,aAAaC,QALrB,iBAMdvB,EAASoB,MAAQC,OAAOC,aAAaC,QALrB,mBAQCzB,EAAT0B,iBAAiB,SAASC,IAChCH,aAAaI,QAXA,gBAWkBD,EAAIE,OAAOP,MAAM,IAElDrB,EAAOyB,iBAAiB,SAASC,IAC/BH,aAAaI,QAbD,eAakBD,EAAIE,OAAOP,MAAM,IAGjDpB,EAASwB,iBAAiB,SAASC,IACjCH,aAAaI,QAhBC,iBAgBkBD,EAAIE,OAAOP,MAAM,IAI7BzB,EAAf6B,iBAAiB,UAGwB,SAAjBC,GAC7BA,EAAIG,iBACJ,IAAIC,EAAaR,OAAOvB,EAAQsB,OAC5BU,EAAYT,OAAOtB,EAAOqB,OAC1BW,EAAcV,OAAOrB,EAASoB,OAElC,IAAK,IAAIY,EAAI,EAAGA,GAAKD,EAAaC,GAAK,EACrC/B,EAAc+B,EAAGH,GACjBA,GAAcC,C","sources":["src/js/03-promises.js"],"sourcesContent":["// Імпорт для відображення повідомлень користувачеві\nimport Notiflix from 'notiflix';\n\n// Звернутися до розмітки HTML\nconst formEl = document.querySelector('.form');\nconst delayEl = formEl.querySelector('[name=\"delay\"]');\nconst stepEl = formEl.querySelector('[name=\"step\"]');\nconst amountEl = formEl.querySelector('[name=\"amount\"]');\n\n// Оголошенні змінні ключів веб-сховища LocalStorаge\nlet keyDelay = 'PROMISE_DELAY';\nlet keyStep = 'PROMISE_STEP';\nlet keyAmount = 'PROMISE_AMOUNT';\n\n// Ініціалізація значеннями останнього введеня (збереженними в LocalStorage)\ndelayEl.value = Number(localStorage.getItem(keyDelay));\nstepEl.value = Number(localStorage.getItem(keyStep));\namountEl.value = Number(localStorage.getItem(keyAmount));\n\n// Зберегти значення в LocalStorage\ndelayEl.addEventListener('input', evt => {\n  localStorage.setItem(keyDelay, evt.target.value);\n});\nstepEl.addEventListener('input', evt => {\n  localStorage.setItem(keyStep, evt.target.value);\n});\n\namountEl.addEventListener('input', evt => {\n  localStorage.setItem(keyAmount, evt.target.value);\n});\n\n//Додати тип події \"submit\" на кнопку \"Create promises\"\nformEl.addEventListener('submit', onSubmitCreatePromise);\n\n// ФУНКЦІЯ. Створення всіх промісів по введених параметрах\nfunction onSubmitCreatePromise(evt) {\n  evt.preventDefault();\n  let delayValue = Number(delayEl.value);\n  let stepValue = Number(stepEl.value);\n  let amountValue = Number(amountEl.value);\n\n  for (let i = 1; i <= amountValue; i += 1) {\n    createPromise(i, delayValue);\n    delayValue += stepValue;\n  }\n}\n\n// ФУНКЦІЯ. Створює Promise.\nfunction createPromise(position, delay) {\n  const promise = new Promise((res, rej) => {\n    setTimeout(() => {\n      const shouldResolve = Math.random() > 0.5;\n\n      const resultObject = { position, delay };\n\n      if (shouldResolve) {\n        res(resultObject);\n      } else {\n        rej(resultObject);\n      }\n    }, delay);\n  });\n\n  promise\n    .then(({ position, delay }) => {\n      Notiflix.Notify.success(`✅ Fulfilled promise ${position} in ${delay}ms`);\n    })\n    .catch(({ position, delay }) => {\n      Notiflix.Notify.failure(`❌ Rejected promise ${position} in ${delay}ms`);\n    });\n}\n"],"names":["$eWCmQ","parcelRequire","$47d4ff9957288465$var$formEl","document","querySelector","$47d4ff9957288465$var$delayEl","$47d4ff9957288465$var$stepEl","$47d4ff9957288465$var$amountEl","$47d4ff9957288465$var$createPromise","position1","delay1","Promise","res","rej","setTimeout","shouldResolve","Math","random","resultObject","position","delay","then","$parcel$interopDefault","Notify","success","catch","failure","value","Number","localStorage","getItem","addEventListener","evt","setItem","target","preventDefault","delayValue","stepValue","amountValue","i"],"version":3,"file":"03-promises.273ac5ff.js.map"}